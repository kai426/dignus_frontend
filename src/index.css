@import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap');
@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

:root {
  --radius: 0.625rem;
  --background: oklch(1 0 0);
  --foreground: oklch(0.129 0.042 264.695);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.129 0.042 264.695);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.129 0.042 264.695);
  --primary: oklch(0.208 0.042 265.755);
  --primary-foreground: oklch(0.984 0.003 247.858);
  --secondary: oklch(0.968 0.007 247.896);
  --secondary-foreground: oklch(0.208 0.042 265.755);
  --muted: oklch(0.968 0.007 247.896);
  --muted-foreground: oklch(0.554 0.046 257.417);
  --accent: oklch(0.968 0.007 247.896);
  --accent-foreground: oklch(0.208 0.042 265.755);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.929 0.013 255.508);
  --input: oklch(0.929 0.013 255.508);
  --ring: oklch(0.704 0.04 256.788);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.984 0.003 247.858);
  --sidebar-foreground: oklch(0.129 0.042 264.695);
  --sidebar-primary: oklch(0.208 0.042 265.755);
  --sidebar-primary-foreground: oklch(0.984 0.003 247.858);
  --sidebar-accent: oklch(0.968 0.007 247.896);
  --sidebar-accent-foreground: oklch(0.208 0.042 265.755);
  --sidebar-border: oklch(0.929 0.013 255.508);
  --sidebar-ring: oklch(0.704 0.04 256.788);
}

.dark {
  --background: oklch(0.129 0.042 264.695);
  --foreground: oklch(0.984 0.003 247.858);
  --card: oklch(0.208 0.042 265.755);
  --card-foreground: oklch(0.984 0.003 247.858);
  --popover: oklch(0.208 0.042 265.755);
  --popover-foreground: oklch(0.984 0.003 247.858);
  --primary: oklch(0.929 0.013 255.508);
  --primary-foreground: oklch(0.208 0.042 265.755);
  --secondary: oklch(0.279 0.041 260.031);
  --secondary-foreground: oklch(0.984 0.003 247.858);
  --muted: oklch(0.279 0.041 260.031);
  --muted-foreground: oklch(0.704 0.04 256.788);
  --accent: oklch(0.279 0.041 260.031);
  --accent-foreground: oklch(0.984 0.003 247.858);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.551 0.027 264.364);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.208 0.042 265.755);
  --sidebar-foreground: oklch(0.984 0.003 247.858);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.984 0.003 247.858);
  --sidebar-accent: oklch(0.279 0.041 260.031);
  --sidebar-accent-foreground: oklch(0.984 0.003 247.858);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.551 0.027 264.364);
  --sp-card-w: 320px;
  --sp-gap: 28px;           /* espaço entre cards */
  --sp-gap-shell-lg: 24px;  /* gap sidebar↔conteúdo em 1024–1279 */
  --sp-gap-shell-xl: 32px; 
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', sans-serif;
  }
}

@layer components {
  .sp-pill { box-shadow: inset 0 -0.5px 0 rgba(0,0,0,.06); }
}

:root{
  --rv-border:#e5e7eb;
  --rv-ink:#111;
}

/* Grelha (2x2) — sem hover */
.rv-cell{
  @apply bg-white rounded-xl flex items-center justify-center gap-2 p-3 relative flex-wrap;
  box-shadow:none !important;
  transform:none !important;
}
.rv-cell.empty{
  @apply bg-gray-100 border-2 border-dashed border-gray-300;
}

/* Número do quadrante */
.rv-num{
  @apply absolute top-1.5 right-1.5 flex items-center justify-center w-6 h-6 rounded-full text-[11px] font-bold text-white;
  background: rgba(0,0,0,.85);
}

.rv-arrow{ display:inline-block; width:0; height:0; }
.rv-arrow-up{
  border-left: 10px solid transparent;
  border-right:10px solid transparent;
  border-bottom:14px solid #111;
}
.rv-arrow-right{
  border-top:10px solid transparent;
  border-bottom:10px solid transparent;
  border-left:14px solid #111;
}
.rv-arrow-down{
  border-left:10px solid transparent;
  border-right:10px solid transparent;
  border-top:14px solid #111;
}
.rv-arrow-left{
  border-top:10px solid transparent;
  border-bottom:10px solid transparent;
  border-right:14px solid #111;
}

.rv-board {
  display: grid;
  gap: 6px;
  background: #333;
  padding: 10px;
  border-radius: 12px;
  border: 3px solid #333;
  width: min(100%, 720px);   /* limita largura p/ não "espalhar" demais */
  margin-inline: auto;
}

/* tamanhos de grade comuns */
.rv-board--2x2 { grid-template-columns: repeat(2, minmax(110px, 1fr)); }
.rv-board--3x3 { grid-template-columns: repeat(3, minmax(110px, 1fr)); }

/* cada célula é sempre quadrada */
.rv-cell{
  aspect-ratio: 1 / 1;                      /* <- o pulo do gato */
  display:flex; align-items:center; justify-content:center;
  gap: 8px; position:relative; flex-wrap:wrap;
  background:#fff; border-radius:12px; box-shadow:none !important;
  padding: 25px;
}
.rv-cell.empty{ background:#f3f4f6; border:2px dashed #c9cdd2; }

/* númerozinho */
.rv-num{
  position:absolute; top:6px; right:6px;
  width:22px; height:22px; border-radius:999px;
  display:flex; align-items:center; justify-content:center;
  font: 700 11px/1 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:#fff; background:rgba(0,0,0,.85);
}

/* tokens base (preto&branco) */
.rv-token{ width:28px; height:28px; border-radius:999px; pointer-events:none; }
.rv-token-odd{ background:#111; box-shadow: inset 0 -2px 0 rgba(255,255,255,.35), 0 1px 2px rgba(0,0,0,.18); }
.rv-token-even{
  border:3px solid #111;
  background:
    radial-gradient(circle at 50% 50%, transparent 0 9px, rgba(0,0,0,0) 9px),
    repeating-linear-gradient(45deg, rgba(0,0,0,.22) 0 4px, rgba(0,0,0,0) 4px 8px);
  box-shadow: 0 1px 2px rgba(0,0,0,.18);
}
.rv-token-ring{ border:3px solid #111; background: radial-gradient(circle at 50% 50%, transparent 0 9px, rgba(0,0,0,0) 9px); }

/* triângulo P&B com rotação por data-direction */
.rv-tri{ width: 16px; height:16px; border-left:10px solid transparent; border-right:10px solid transparent; border-bottom:18px solid #111; }
.rv-tri[data-dir="right"] { transform: rotate(90deg); }
.rv-tri[data-dir="down"]  { transform: rotate(180deg); }
.rv-tri[data-dir="left"]  { transform: rotate(270deg); }

/* opções (sem hover na solução em si) */
.rv-option{
  background:#fff; border:2px solid var(--rv-border, #e5e7eb);
  border-radius:16px; padding:16px; min-height:110px;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
}
.rv-option--idle:hover{ border-color:#0385D1; }
.rv-option--active{ border-color:#0385D1; background:#eaf4ff; }
.rv-option-label{ font-weight:700; margin-bottom:8px; }
.rv-option-content{ display:flex; flex-wrap:wrap; gap:8px; justify-content:center; }
.rv-option--idle:hover{
  @apply border-[#0385D1];
  transform:none !important;
  box-shadow:none !important;
}
.rv-option--active{
  @apply border-[#0385D1] bg-blue-50;
}
.rv-option-label{ @apply font-bold mb-2; }
.rv-option-content{ @apply flex flex-wrap justify-center gap-2; }

/* Timer (barra + texto) */
.rv-timebar{ @apply h-1.5 w-full bg-gray-200 rounded-full overflow-hidden; }
.rv-timebar > span{ @apply block h-full bg-[#0385D1] transition-[width]; }


/* ====== Azulejos (Questão 26) ====== */

.rv-az {
  position: relative;
  background: #fff;
  border: 3px solid #111;
  border-radius: 12px;
}

/* tamanhos: board vs. opções */
.rv-az--lg { width: 96px; height: 96px; }
.rv-az--sm { width: 84px; height: 84px; }

/* “fantasma” para a célula faltante */
.rv-az--ghost { opacity: .45; filter: grayscale(1); }

/* bordas internas */
.rv-edge {
  position: absolute;
  border-radius: 6px;
  box-shadow: inset 0 0 0 2px #111;   /* contorno interno para separar a textura */
}
.rv-edge.top    { width: 64px; height: 12px; left: 50%; top: 6px; transform: translateX(-50%); }
.rv-edge.bottom { width: 64px; height: 12px; left: 50%; bottom: 6px; transform: translateX(-50%); }
.rv-edge.left   { width: 12px; height: 64px; left: 6px; top: 50%; transform: translateY(-50%); }
.rv-edge.right  { width: 12px; height: 64px; right: 6px; top: 50%; transform: translateY(-50%); }

/* miolo (bolinha cinza) */
.rv-nub {
  position: absolute; left: 50%; top: 50%;
  transform: translate(-50%, -50%);
  width: 22px; height: 22px; border-radius: 999px;
  background: #e5e7eb;
}

/* Padrões P&B daltônico-seguros (iguais ao HTML) */
.rv-pat-red{
  background: #fff;
  background-image: repeating-linear-gradient(45deg, #000 0 4px, transparent 4px 8px);
  background-size: 12px 12px;
}
.rv-pat-green{
  background: #fff;
  background-image: radial-gradient(#000 2.2px, transparent 2.2px);
  background-size: 10px 10px;
  background-position: 0 0;
}
.rv-pat-blue{
  background: #fff;
  background-image:
    repeating-linear-gradient(0deg,  #000 0 3px, transparent 3px 11px),
    repeating-linear-gradient(90deg, #000 0 3px, transparent 3px 11px);
  background-size: 11px 11px;
}
.rv-pat-purple{
  background: #fff;
  background-image:
    repeating-linear-gradient(45deg,  #000 0 2.5px, transparent 2.5px 9px),
    repeating-linear-gradient(135deg, #000 0 2.5px, transparent 2.5px 9px);
  background-size: 12px 12px;
}

/* grid base (mobile/tablet continua no Tailwind) */
.sp-grid {
  display: grid;
  gap: var(--sp-gap);
  justify-items: center;
}

/* os filhos do grid recebem largura controlada por breakpoint */
.sp-grid > * {
  width: var(--sp-card-w);
}

/* shell = wrapper flex com sidebar + conteúdo  */
.sp-shell {
  gap: 0; /* default, sobrescrito em laptop/desktop */
}

/* container interno do conteúdo (para respiro lateral fino) */
.sp-container {
  padding-left: 1rem;
  padding-right: 1rem;
}

/* aside do progresso (usa flex-basis) */
.sp-progress {
  flex: 0 0 420px; /* desktop cheio; ajustado por breakpoint abaixo */
  padding-left: 0;
}

/* ---------- 1024–1279 (laptop “2x2” + progresso à direita) ---------- */
@media (min-width:1024px) and (max-width:1279.98px){
  .sp-shell { gap: var(--sp-gap-shell-lg); }
  .sp-container { padding-left: 24px; padding-right: 24px; }
  .sp-grid { grid-template-columns: repeat(2, var(--sp-card-w)); }
  .sp-progress { flex-basis: 360px; padding-left: 12px; }
}

/* ---------- 1280–1439 (3 colunas, respiro maior) ---------- */
@media (min-width:1280px) and (max-width:1439.98px){
  .sp-shell { gap: var(--sp-gap-shell-xl); }
  .sp-container { padding-left: 32px; padding-right: 32px; }
  .sp-grid { grid-template-columns: repeat(3, var(--sp-card-w)); }
  .sp-progress { flex-basis: 400px; padding-left: 16px; }
}

/* ---------- ≥1440 (desktop grande – mantém 3 colunas) ---------- */
@media (min-width:1440px){
  .sp-shell { gap: 40px; }
  .sp-container { padding-left: 40px; padding-right: 40px; }
  .sp-grid { grid-template-columns: repeat(3, var(--sp-card-w)); }
  .sp-progress { flex-basis: 420px; padding-left: 20px; }
}